!function(){"use strict";function t(e,n,r){function i(){r=r||e,n=n||"root";var t=new Error('Failed to require "'+r+'" from "'+n+'"');throw t.path=r,t.parent=n,t.require=!0,t}var s=t.resolve(e);if(null==s)return void i();var o=t.modules[s];if(!o._resolving&&!o.exports){var a={};a.exports={},a.client=a.component=!0,o._resolving=!0,o.call(this,a.exports,t.relative(s),a),delete o._resolving,o.exports=a.exports}return o.exports}t.modules={},t.aliases={},t.exts=["",".js",".json","/index.js","/index.json"],t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var n=0;5>n;n++){var r=e+t.exts[n];if(t.modules.hasOwnProperty(r))return r;if(t.aliases.hasOwnProperty(r))return t.aliases[r]}},t.normalize=function(t,e){var n=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var r=0;r<e.length;++r)".."===e[r]?t.pop():"."!=e[r]&&""!=e[r]&&n.push(e[r]);return t.concat(n).join("/")},t.register=function(e,n){t.modules[e]=n},t.alias=function(e,n){function r(){throw new Error('Failed to alias "'+e+'", it does not exist')}return t.modules.hasOwnProperty(e)?void(t.aliases[n]=e):void r()},t.relative=function(e){function n(r){var i=n.resolve(r);return t(i,e,r)}var r=t.normalize(e,"..");return n.resolve=function(n){var i=n.charAt(0);if("/"===i)return n.slice(1);if("."===i)return t.normalize(r,n);for(var s=e.split("/"),o=s.length;o--&&"deps"!==s[o];);return n=s.slice(0,o+2).join("/")+"/deps/"+n},n.exists=function(e){return t.modules.hasOwnProperty(n.resolve(e))},n},t.register("regularjs/src/Regular.js",function(t,e,n){var r=e("./parser/Lexer.js"),i=e("./parser/Parser.js"),s=(e("./parser/node.js"),e("./dom.js")),o=e("./group.js"),a=e("./util"),u=e("./helper/extend.js"),c=e("./helper/event.js"),h=e("./helper/combine.js"),l=e("./walkers.js"),f="undefined"==typeof document?{}:document,p=function(t){var e,n;t=t||{},t.data=t.data||{},this.data&&a.extend(t.data,this.data),a.extend(this,t,!0),n=this.template,"string"==typeof n&&n.length<40&&(e=s.find(n))&&(n=e.innerHTML),"string"==typeof n&&(this.template=new i(n).parse()),this.$watchers=[],this.config&&this.config(this.data),this.$context=this.$context||this,this.$root=this.$root||this,this.events&&this.$on(this.events),n&&(this.group=this.$compile(this.template),this.element=h.node(this)),this.$emit({type:"init",stop:!0}),this.$root===this&&this.$update(),this.init&&this.init(this.data)};a.extend(p,{_directives:{__regexp__:[]},_components:{},_filters:{},_events:{},_plugins:{},_exprCache:{},__after__:function(t,e){e.computed;var n;if(this.__after__=t.__after__,e.name&&p.component(e.name,this),n=e.template){var r,o;"string"==typeof n&&n.length<20&&(r=s.find(n))&&(n=r.innerHTML,(o=s.attr(r,"name"))&&p.component(o,this)),"string"==typeof n&&(this.prototype.template=new i(n).parse())}p._inheritConfig(this,t)},directive:function(t,e){var n,r=a.typeOf(t),i=this._directives;if(null==e){if("string"===r&&(n=i[t]))return n;for(var s=i.__regexp__,o=0,u=s.length;u>o;o++){n=s[o];var c=n.regexp.test(t);if(c)return n}return void 0}return"function"==typeof e&&(e={link:e}),"string"===r?i[t]=e:"regexp"===r&&(e.regexp=t,i.__regexp__.push(e)),this},filter:function(t,e){var n=this._filters;return null==e?n[t]:(n[t]=e,this)},component:function(t,e){return e?(this._components[t]=e,this):this._components[t]},plugin:function(t,e){var n=this._plugins;return null==e?n[t]:(n[t]=e,this)},use:function(t){return"string"==typeof t&&(t=p.plugin(t)),"function"!=typeof t?this:(t(this,p),this)},expression:function(t){if("string"==typeof t){var t=t.trim();t=this._exprCache[t]||(this._exprCache[t]=new i(t,{state:"JST"}).expression())}var e=a.touchExpression(t);return e},parse:function(t){return new i(t).parse()},Parser:i,Lexer:r,_inheritConfig:function(t,e){var n=["use","directive","event","filter","component"],r=a.slice(n);return r.forEach(function(n){t[n]=e[n];var r="_"+n+"s";e[r]&&(t[r]=a.createObject(e[r]))}),t}}),u(p),c.mixTo(p),p.implement({init:function(){},$compile:function(t,e){"string"==typeof t&&(t=new i(t).parse());var n;e&&this._record();var r=this._walk(t);if(e){n=this._release();var s=this;n.length&&(r.ondestroy=function(){s.$unwatch(n)})}return r},$update:function(t,e){if(null!=t){var n=a.typeOf(t);if("string"===n||"expression"===t.type){var t=(this.data,p.expression(t));t.set(this,e)}else if("function"===n)t.call(this,this.data);else for(var r in t)t.hasOwnProperty(r)&&(this.data[r]=t[r])}(this.$context||this).$digest()},$bind:function(t,e,n){var r=a.typeOf(e);if("expression"===e.type||"string"==r)this._bind(t,e,n);else if("array"===r)for(var i=0,s=e.length;s>i;i++)this._bind(t,e[i]);else if("object"===r)for(var i in e)e.hasOwnProperty(i)&&this._bind(t,i,e[i]);return t.$update(),this},$unbind:function(){},$digest:function(t){if("digest"!==this.$phase){this.$phase="digest";for(var e=!1,n=0;e=this._digest(t);)if(n++,n>20)throw"there may a circular dependencies in this Component";this.$phase=null}},$watch:function(t,e,n){n=n||{},n===!0&&(n={deep:!0});var r=a.uid("w_");if(this.context)for(var i in context);if(Array.isArray(t)){for(var s=[],i=0,o=t.length;o>i;i++)s.push(p.expression(t[i]).get);var u=[],c=function(t){for(var e=!0,n=0,r=s.length;r>n;n++){var i=s[n](t);a.equals(i,u[n])||(e=!1,u[n]=a.clone(i))}return e?!1:u}}else var t=p.expression(t),h=t.get,l=t.constant;var f={id:r,get:h,fn:e,constant:l,force:n.force,test:c,deep:n.deep};return this.$watchers.push(f),this._records&&this._records.push(f.id),r},$unwatch:function(t){if(Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.$unwatch(t[e]);else{var r,n,i=this.$watchers;if(!t||!i||!(n=i.length))return;for(;n--;)r=i[n],r&&r.id===t&&i.splice(n,1)}},destroy:function(){this.$emit({type:"destroy",stop:!0}),this.group&&this.group.destroy(),this.group=null,this.element=null,this.$watchers=null,this.$off()},inject:function(t,e){e=e||"bottom";var n,r,i=this.element||h.node(this);if("string"==typeof t&&(t=s.find(t)),!t)throw"injected node is not found";if(i){switch(e){case"bottom":t.appendChild(i);break;case"top":(n=t.firstChild)?t.insertBefore(i,t.firstChild):t.appendChild(i);break;case"after":(r=t.nextSibling)?r.parentNode.insertBefore(i,r):r.parentNode.appendChild(i);break;case"before":t.parentNode.insertBefore(i,t)}return this}},_bind:function(t,e,n){var r=this;if(!(t&&t instanceof p))throw"$bind() should pass Regular component as first argument";if(!e)throw"$bind() should as least pass one expression to bind";if(e=p.expression(e),n=n?p.expression(n):e,n.set){var i=this.$watch(e,function(e){t.$update(n,e)});t.$on("destroy",function(){r.$unwatch(i)})}if(e.set){var s=t.$watch(n,function(t){r.$update(e,t)});this.$on("destroy",t.$unwatch.bind(t,s))}n.set(t,e.get(this))},_digest:function(){this.$emit("digest");var t=this.$watchers;if(t&&t.length){for(var e=!1,n=0,r=t.length;r>n;n++){var i=t[n];if(i)if(i.test){var s=i.test(this);s&&(e=!0,i.fn.apply(this,s))}else{var o=i.get(this),u=(i.last,!0);if("object"==a.typeOf(o)&&i.deep)if(i.last){for(var c in o)if(i.last[c]!==o[c]){u=!1;break}if(u!==!1)for(var c in i.last)if(i.last[c]!==o[c]){u=!1;break}}else u=!1;else u=a.equals(o,i.last);u===!1||i.force?(u=!1,i.force=null,i.fn.call(this,o,i.last),i.last="object"!=typeof o?a.clone(o):o):"array"==a.typeOf(u)&&u.length?(i.fn.call(this,o,u),i.last=a.clone(o)):u=!0,u!==!0&&(e=!0),i.constant&&t.splice(n,1)}}return e&&this.$emit("update"),e}},_record:function(){this._records=[]},_release:function(){var t=this._records;return this._records=null,t},_walk:function(t){if("array"===a.typeOf(t)){for(var e=[],n=0,r=t.length;r>n;n++)e.push(this._walk(t[n]));return new o(e)}return"string"==typeof t?f.createTextNode(t):l[t.type||"default"].call(this,t)},_f:function(t){var e=this.constructor,n=e.filter(t);if("function"!=typeof n)throw"filter "+t+"is undefined";return n}}),n.exports=p}),t.register("regularjs/src/util.js",function(t,e,n){e("./helper/shim.js");var r=n.exports,i=([].slice,{}.toString,"undefined"!=typeof window?window:global);r.noop=function(){},r.uid=function(){var t=0;return function(){return t++}}(),r.varName="_d_",r.setName="_p_",r.ctxName="_c_",r.nextTick="function"==typeof setImmediate?setImmediate.bind(i):function(t){setTimeout(t,0)};var s="var "+r.ctxName+"=context.$context||context;var "+r.varName+"=context.data;";r.host="data",r.slice=function(t,e,n){for(var r=[],i=e||0,s=n||t.length;s>i;i++){var o=t[i];r.push(o)}return r},r.typeOf=function(t){return null==t?String(t):{}.toString.call(t).slice(8,-1).toLowerCase()},r.extend=function(t,e,n){if("array"===r.typeOf(n))for(var i=0,s=n.length;s>i;i++){var o=n[i];t[o]=e[o]}else for(var i in e)("undefined"==typeof t[i]||n===!0)&&(t[i]=e[i]);return t},r.makePredicate=function(t){function e(t){if(1===t.length)return n+="return str === '"+t[0]+"';";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case '"+t[e]+"':";n+="return true}return false;"}"string"==typeof t&&(t=t.split(" "));var n="",r=[];t:for(var i=0;i<t.length;++i){for(var s=0;s<r.length;++s)if(r[s][0].length===t[i].length){r[s].push(t[i]);continue t}r.push([t[i]])}if(r.length>3){r.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var i=0;i<r.length;++i){var o=r[i];n+="case "+o[0].length+":",e(o)}n+="}"}else e(t);return new Function("str",n)},r.trackErrorPos=function(){function t(t,e){for(var n=0,r=0,i=t.length;i>r;r++){var s=(t[r]||"").length;if(n+s>e)return{num:r,line:t[r],start:e-n};n=n+s+1}}var e=/\r\n|[\n\r\u2028\u2029]/g;return function(n,r){r>n.length-1&&(r=n.length-1),e.lastIndex=0;var i=n.split(e),s=t(i,r),o=s.line.length,a=s.start-10;0>a&&(a=0);var u=s.start+10;u>o&&(u=o);var c=s.line.slice(a,u),h=s.num+1+"> "+(a>0?"...":""),l=o>u?"...":"";return h+c+l+"\n"+new Array(s.start+h.length+1).join(" ")+"^"}}();var o=/\(\?\!|\(\?\:|\?\=/g;r.findSubCapture=function(t){var e=0,n=0,r=t.length,i=t.match(o);for(i=i?i.length:0;r--;){var s=t.charAt(r);(0===r||"\\"!==t.charAt(r-1)||"?"!==t.charAt(r+1))&&("("===s&&e++,")"===s&&n++)}if(e!==n)throw"RegExp: "+t+"'s bracket is not marched";return e-i},r.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(t){return"\\"+t})},r.createObject=function(t,e){function n(){}n.prototype=t;var i=new n;return e&&r.extend(i,e),i},r.createProto=function(t,e){function n(){this.constructor=t}return n.prototype=e,t.prototype=new n},r.clone=function(t){var e=r.typeOf(t);if("array"==e){for(var n=[],i=0,s=t.length;s>i;i++)n[i]=t[i];return n}if("object"==e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}return t},r.equals=function(t,e){var n=r.typeOf(t);if("array"===n){var i=a(t,e||[]);return i}return"number"===n&&"number"==typeof e&&isNaN(t)&&isNaN(e)?!0:t===e};var a=function(){function t(t,e){return t===e}function e(e,n){for(var r=e.length,i=n.length,s=[],o=0;r>=o;o++)s.push([o]);for(var a=1;i>=a;a++)s[0][a]=a;for(var o=1;r>=o;o++)for(var a=1;i>=a;a++)s[o][a]=t(e[o-1],n[a-1])?s[o-1][a-1]:Math.min(s[o-1][a]+1,s[o][a-1]+1);return s}function n(t,n){for(var r=e(n,t),i=n.length,s=i,o=t.length,a=o,u=[],c=r[s][a];s>0||a>0;)if(0!=s)if(0!=a){var h=r[s-1][a-1],l=r[s-1][a],f=r[s][a-1],p=Math.min(f,l,h);p==l?(u.unshift(2),s--,c=l):p==h?(h==c?u.unshift(0):(u.unshift(1),c=h),s--,a--):(u.unshift(3),a--,c=f)}else u.unshift(2),s--;else u.unshift(3),a--;var d=0,v=3,g=2,m=1,i=0;o=0;for(var y=[],x={index:null,add:0,removed:[]},s=0;s<u.length;s++)switch(u[s]>0?null==x.index&&(x.index=o):null!=x.index&&(y.push(x),x={index:null,add:0,removed:[]}),u[s]){case d:i++,o++;break;case v:x.add++,o++;break;case g:x.removed.push(n[i]),i++;break;case m:x.add++,x.removed.push(n[i]),i++,o++}return null!=x.index&&y.push(x),y}return n}();r.throttle=function(t,e){var n,r,i,e=e||100,s=null,o=0,a=function(){o=+new Date,s=null,i=t.apply(n,r),n=r=null};return function(){var u=+new Date,c=e-(u-o);return n=this,r=arguments,0>=c||c>e?(clearTimeout(s),s=null,o=u,i=t.apply(n,r),n=r=null):s||(s=setTimeout(a,c)),i}},r.escape=function(){var t=/&/g,e=/</g,n=/>/g,r=/\'/g,i=/\"/g,s=/[&<>\"\']/;return function(o){return s.test(o)?o.replace(t,"&amp;").replace(e,"&lt;").replace(n,"&gt;").replace(r,"&#39;").replace(i,"&quot;"):o}}(),r.cache=function(t){t=t||1e3;var e=[],n={};return{set:function(t,r){return e.length>this.max&&(n[e.shift()]=void 0),void 0==n[t]&&e.push(t),n[t]=r,r},get:function(t){return void 0===t?n:n[t]},max:t,len:function(){return e.length}}},r.touchExpression=function(t){return"expression"===t.type&&(t.get||(t.get=new Function("context",s+"return ("+t.body+")"),t.body=null,t.setbody&&(t.set=function(e,n){return t.setbody&&(t.set=new Function("context",r.setName,s+t.setbody),t.setbody=null),t.set(e,n)}))),t},r.isVoidTag=r.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content"),r.isBooleanAttr=r.makePredicate("selected checked disabled readOnly required open autofocus controls autoplay compact loop defer multiple"),r.isFalse-function(){return!1},r.isTrue-function(){return!0}}),t.register("regularjs/src/walkers.js",function(t,e,n){function r(t,e,n){var r=this.constructor,i=this,o=e.name,u=e.value||"",c=r.directive(o);if(a.touchExpression(u),c&&c.link){var h=c.link.call(i,t,u,o);"function"==typeof h&&n.push(h)}else"expression"==u.type?this.$watch(u,function(e){s.attr(t,o,e)}):a.isBooleanAttr(o)?s.attr(t,o,!0):s.attr(t,o,u)}var i=e("./parser/node.js"),s=e("./dom.js"),o=e("./group.js"),a=e("./util"),u=e("./helper/combine.js"),c=n.exports={};c.list=function(t){function e(t,e){if(e&&e.length){for(var i=0,s=t.length,o=(e[0].index,0);o<e.length;o++){for(var p=e[o],d=p.index,v=i;d>v;v++){var g=h.get(v);g.data[l]=v}for(var m=0,y=p.removed.length;y>m;m++){{var x=h.children.splice(d,1)[0];x.$parent}x.destroy()}for(var T=d;T<d+p.add;T++){var E=t[T],_=a.createObject(c.data);_[l]=T,_[f]=E;var N=new r({data:_}),w=N.$digest.bind(N);c.$on("digest",w),N.$on("destroy",c.$off.bind(c,"digest",w));var b=0!==T&&h.children[T-1]?u.last(h.get(T-1)):n;b.parentNode.insertBefore(u.node(N),b.nextSibling),h.children.splice(T,0,N)}i=d+p.add-p.removed.length,i=0>i?0:i}if(s>i)for(var o=i;s>o;o++){var j=h.get(o);j.data[l]=o}}}var n=document.createComment("Regular list"),r=Regular.extend({template:t.body,$context:this.$context});Regular._inheritConfig(r,this.constructor);var i=s.fragment();i.appendChild(n);var c=this,h=new o,l=t.variable+"_index",f=t.variable,p=this.$watch(t.sequence,e);return{node:function(){return i},group:h,destroy:function(){h.destroy(),s.remove(n),p&&c.$unwatch(p)}}},c.template=function(t){var e,e,n=t.content,r=document.createComment("template");if(n){var s=this;this.$watch(n,function(t){e&&e.destroy(),this._record(),e=s.$compile(t,!0);this._release();i=u.node(e),r.parentNode&&r.parentNode.insertBefore(i,r)})}return{node:function(){return r},last:function(){return e.last()},destroy:function(){e&&e.destroy()}}},c["if"]=function(t){function e(e){if(e){if(n)return;n=c.$compile(t.consequent,!0),i=u.node(n),r&&r.destroy(),r=null,o.parentNode&&o.parentNode.insertBefore(i,o)}else{if(r)return;n&&n.destroy(),n=null,t.alternate&&(r=c.$compile(t.alternate,!0)),i=u.node(r),o.parentNode&&o.parentNode.insertBefore(i,o)}}var n,r,i,o=document.createComment("Regular if"),a=s.fragment();a.appendChild(o);var c=this;return this.$watch(t.test,e,{force:!0}),{node:function(){return a},last:function(){var t=n||r;return t&&t.last()},destroy:function(){r&&r.destroy(),n&&n.destroy(),s.remove(o)}}},c.expression=function(t){{var e=document.createTextNode("");this.$watch(t,function(t){s.text(e,""+(null==t?"":String(t)))})}return e},c.text=function(t){var e=document.createTextNode(t.text);return e};var h=/^on-(.+)$/;c.element=function(t){var e,n=t.attrs,i=this,o=this.constructor,c=t.children,l=o.component(t.tag);if(c&&c.length)var f=this.$compile(c);if(n.sort(function(t,e){var n=o.directive(t.name),r=o.directive(e.name);return r?n?(e.priority||1)-(t.priority||1):-1:n?1:0}),l){for(var p,d={},v=0,g=n.length;g>v;v++){var m=n[v],y=m.value||"";a.touchExpression(y);var x=m.name,T=x.match(h);if(T){p=p||{},"string"==typeof y&&(y=Regular.expression(y));var E=y.get(i);p[T[1]]=E.bind(this)}else"expression"!==y.type&&(d[m.name]=y)}if(t.children)var _=this.$compile(t.children);for(var e=new l({data:d,events:p,$body:_,$root:i.$root||i}),v=0,g=n.length;g>v;v++){var m=n[v],y=m.value||"";"expression"===y.type&&-1===m.name.indexOf("on-")&&this.$bind(e,y,m.name)}return e}if("r-content"===t.tag&&this.$body)return this.$body;"svg"===t.tag&&(this._ns_="svg");for(var N=s.create(t.tag,this._ns_,n),w=[],v=0,g=n.length;g>v;v++)r.call(this,N,n[v],w);return"svg"===t.tag&&(this._ns_=null),{node:function(){return f&&!a.isVoidTag(t.tag)&&N.appendChild(u.node(f)),N},last:function(){return N},destroy:function(){f&&f.destroy(),w.length&&w.forEach(function(t){t()}),s.remove(N)}}}}),t.register("regularjs/src/env.js",function(t){t.svg=function(){return"undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),t.transition=void 0}),t.register("regularjs/src/index.js",function(t,e,n){n.exports=e("./Regular.js"),e("./directive/base.js"),e("./module/timeout.js"),n.exports.dom=e("./dom.js"),n.exports.util=e("./util.js")}),t.register("regularjs/src/dom.js",function(t,e,n){function r(t,e){return"change"==e&&a.msie<9&&t&&t.tagName&&"input"===t.tagName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)?"click":e}function i(t){if(t=t||window.event,t._fixed)return t;this.event=t;var e=this.type=t.type,n=this.button=t.button;if(p.test(e)&&(this.pageX=null!=t.pageX?t.pageX:t.clientX+d.scrollLeft,this.pageY=null!=t.pageX?t.pageY:t.clientY+d.scrollTop,"mouseover"===e||"mouseout"===e)){for(var r=t.relatedTarget||t[("mouseover"===e?"from":"to")+"Element"];r&&3==r.nodeType;)r=r.parentNode;this.relatedTarget=r}("DOMMouseScroll"==e||"mousewheel"==e)&&(this.wheelDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),this.which=t.which||t.keyCode,this.which||void 0===n||(this.which=1&n?1:2&n?3:4&n?2:0),this._fixed=!0}var s,o,a=n.exports,u=e("./env.js"),c=e("./util"),h=document.createElement("div"),l=function(){};a.tNode=h,h.addEventListener?(s=function(t,e,n){t.addEventListener(e,n,!1)},o=function(t,e,n){t.removeEventListener(e,n,!1)}):(s=function(t,e,n){t.attachEvent("on"+e,n)},o=function(t,e,n){t.detachEvent("on"+e,n)}),a.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(a.msie)&&(a.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),a.find=function(t){if(document.querySelector)try{return document.querySelector(t)}catch(e){}return-1!==t.indexOf("#")?document.getElementById(t.slice(1)):void 0},a.id=function(t){return document.getElementById(t)},a.create=function(t,e,n){if("svg"===e){if(!u.svg)throw Error("the env need svg support");e="http://www.w3.org/2000/svg"}if("input"===t&&a.msie<9){for(var r="<input ",i=0;i<n.length;i++){var s=n[i];s.value&&"expression"!==s.value.type&&-1===s.name.indexOf("r-")&&(r+=" "+s.name+'="'+s.value+'"')}try{return document.createElement(r+">")}catch(o){return document.createElement(input)}}return e?document.createElementNS(e,t):document.createElement(t)},a.fragment=function(){return document.createDocumentFragment()};var f={"class":function(t,e){"className"in t?t.className=e||"":t.setAttribute("class",e)},"for":function(t,e){"htmlFor"in t?t.htmlFor=e:t.setAttribute("for",e)},style:function(t,e){t.style?t.style.cssText=e:t.setAttribute("style",e)},value:function(t,e){t.value=null!=e?e:""}};a.attr=function(t,e,n){if(c.isBooleanAttr(e)){if("undefined"==typeof n)return t[e]||(t.attributes.getNamedItem(e)||l).specified?e:void 0;n?(t[e]=!0,t.setAttribute(e,e),a.msie&&a.msie<=7&&(t.defaultChecked=!0)):(t[e]=!1,t.removeAttribute(e))}else if("undefined"!=typeof n)f[e]?f[e](t,n):t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?void 0:r}};a.on=function(t,e,n){e=r(t,e),n.real=function(e){n.call(t,new i(e))},s(t,e,n.real)},a.off=function(t,e,n){e=r(t,e),n=n.real||n,o(t,e,n)},a.text=function(){var t={};return a.msie&&a.msie<9?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",function(e,n){var r=t[e.nodeType];return null==n?r?e[r]:"":void(e[r]=n)}}(),a.html=function(t){return"undefined"==typeof t?node.innerHTML:void(node.innerHTML=t)},a.replace=function(t,e){e.parentNode&&e.parentNode.replaceChild(t,e)},a.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)},a.addClass=function(t,e){var n=t.className||"";-1===(" "+n+" ").indexOf(" "+e+" ")&&(t.className=n+" "+e)},a.delClass=function(t,e){var n=t.className||"";t.className=(" "+n+" ").replace(" "+e+" "," ").trim()},a.hasClass=function(t,e){var n=t.className||"";return-1!==(" "+n+" ").indexOf(" "+e+" ")};var p=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,d=document;d=d.compatMode&&"CSS1Compat"!=d.compatMode?d.body:d.documentElement,c.extend(i.prototype,{immediateStop:c.isFalse,stop:function(){this.preventDefault().stopPropgation()},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this},stopPropgation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},stopImmediatePropagation:function(){this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation()}})}),t.register("regularjs/src/group.js",function(t,e,n){function r(t){this.children=t||[]}var i=e("./util"),s=(e("./dom"),e("./helper/combine"));i.extend(r.prototype,{destroy:function(){s.destroy(this.children),this.ondestroy&&this.ondestroy(),this.children=null},get:function(t){return this.children[t]},push:function(t){this.children.push(t)}}),n.exports=r}),t.register("regularjs/src/parser/Lexer.js",function(t,e,n){function r(t){return function(e){return{type:t,value:e}}}function i(t,e){this.input=(t||"").trim(),this.opts=e||{},this.map=2!=this.opts.mode?p:d,this.states=["INIT"],this.opts.state&&this.states.push(this.opts.state)}function s(t){for(var e,n,r={},i=0,s=t.length;s>i;i++)e=t[i],n=e[2]||"INIT",(r[n]||(r[n]={rules:[],links:[]})).rules.push(e);return o(r)}function o(t){var e,n,i,s,o,u,c;for(var h in t){e=t[h],e.curIndex=1,n=e.rules,i=[];for(var f=0,p=n.length;p>f;f++)c=n[f],o=c[0],s=c[1],"string"==typeof s&&(s=r(s)),"regexp"==a.typeOf(o)&&(o=o.toString().slice(1,-1)),o=o.replace(/\{(\w+)\}/g,function(t,e){return"string"==typeof l[e]?a.escapeRegExp(l[e]):String(l[e]).slice(1,-1)}),u=a.findSubCapture(o)+1,e.links.push([e.curIndex,u,s]),e.curIndex+=u,i.push(o);e.TRUNK=new RegExp("^(?:("+i.join(")|(")+"))")}return t}var a=e("../util.js"),u=/a|(b)/.exec("a"),c=u&&void 0===u[1]?function(t){return void 0!==t}:function(t){return!!t},h=i.prototype;h.lex=function(t){t=(t||this.input).trim();{var e,n,r,i,s,o=[];this.input=t}this.index=0;for(var a=0;t;)a++,s=this.state(),e=this.map[s],n=e.TRUNK.exec(t),n||this.error("Unrecoginized Token"),r=n[0].length,t=t.slice(r),i=this._process.call(this,n,e,t),i&&o.push(i),this.index+=r;return o.push({type:"EOF"}),o},h.error=function(t){throw"Parse Error: "+t+":\n"+a.trackErrorPos(this.input,this.index)},h._process=function(t,e,n){for(var r=e.links,i=!1,s=r.length,o=0;s>o;o++){var a=r[o],u=a[2],h=a[0];if(c(t[h])){if(i=!0,u){var l=u.apply(this,t.slice(h,h+a[1]));l&&(l.pos=this.index)}break}}if(!i)switch(n.charAt(0)){case"<":this.enter("TAG");break;default:this.enter("JST")}return l},h.enter=function(t){return this.states.push(t),this},h.state=function(){var t=this.states;return t[t.length-1]},h.leave=function(t){var e=this.states;t&&e[e.length-1]!==t||e.pop()};var l={BEGIN:"{{",END:"}}",NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\f ]/},f={ENTER_JST:[/[^\x00\<]*?(?={BEGIN})/,function(t){return this.enter("JST"),t?{type:"TEXT",value:t}:void 0}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(t){return this.enter("JST"),t?{type:"TEXT",value:t}:void 0}],ENTER_TAG:[/[^\x00<>]*?(?=<)/,function(t){return this.enter("TAG"),t?{type:"TEXT",value:t}:void 0}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^&"'=><`\r\n\f ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(t,e){return{type:"TAG_OPEN",value:e.toLowerCase()}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f ]*>/,function(t,e){return this.leave(),{type:"TAG_CLOSE",value:e}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(t){return">"===t&&this.leave(),{type:t,value:t}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)"/,function(t,e,n){var r=e||n||"";return{type:"STRING",value:r}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/\<\!--([^\x00]*?)--\>/,null,"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(t,e){return{type:"OPEN",value:e}},"JST"],JST_LEAVE:[/{END}/,function(){return this.leave("JST"),{type:"END"}},"JST"],JST_CLOSE:[/{BEGIN}\s*\/\s*({IDENT})\s*{END}/,function(t,e){return this.leave("JST"),{type:"CLOSE",value:e}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(t,e){var n="="==e;return{type:"EXPR_OPEN",escape:n}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\.\.|[\<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(t){return{type:t,value:t}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(t,e,n){return{type:"STRING",value:e||n||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(t){return{type:"NUMBER",value:parseFloat(t,10)}},"JST"]},p=s([f.ENTER_JST,f.ENTER_TAG,f.TEXT,f.TAG_NAME,f.TAG_OPEN,f.TAG_CLOSE,f.TAG_PUNCHOR,f.TAG_ENTER_JST,f.TAG_UNQ_VALUE,f.TAG_STRING,f.TAG_SPACE,f.TAG_COMMENT,f.JST_OPEN,f.JST_CLOSE,f.JST_COMMENT,f.JST_EXPR_OPEN,f.JST_IDENT,f.JST_SPACE,f.JST_LEAVE,f.JST_NUMBER,f.JST_PUNCHOR,f.JST_STRING,f.JST_COMMENT]),d=s([f.ENTER_JST2,f.TEXT,f.JST_COMMENT,f.JST_OPEN,f.JST_CLOSE,f.JST_EXPR_OPEN,f.JST_IDENT,f.JST_SPACE,f.JST_LEAVE,f.JST_NUMBER,f.JST_PUNCHOR,f.JST_STRING,f.JST_COMMENT]);n.exports=i}),t.register("regularjs/src/parser/node.js",function(t,e,n){n.exports={element:function(t,e,n){return{type:"element",tag:t,attrs:e,children:n}},attribute:function(t,e){return{type:"attribute",name:t,value:e}},"if":function(t,e,n){return{type:"if",test:t,consequent:e,alternate:n}},list:function(t,e,n){return{type:"list",sequence:t,variable:e,body:n}},expression:function(t,e,n){return{type:"expression",body:t,constant:n||!1,setbody:e||!1}},text:function(t){return{type:"text",text:t}},template:function(t){return{type:"template",content:t}}}}),t.register("regularjs/src/parser/Parser.js",function(t,e,n){function r(t,e){e=e||{},this.input=t,this.tokens=new o(t,e).lex(),this.pos=0,this.length=this.tokens.length}var i=e("../util.js"),s=e("./node.js"),o=e("./Lexer.js"),a=i.varName,u=i.ctxName,c=i.makePredicate("STRING IDENT NUMBER"),h=i.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),l=r.prototype;l.parse=function(){return this.pos=0,this.program()},l.ll=function(t){t=t||1,0>t&&(t+=1);var e=this.pos+t-1;return e>this.length-1?this.tokens[this.length-1]:this.tokens[e]},l.la=function(t){return(this.ll(t)||"").type},l.match=function(t,e){if(n=this.eat(t,e))return n;var n=this.ll();this.error("expect ["+t+(null==e?"":":"+e)+']" -> got "['+n.type+(null==e?"":":"+n.value)+"]",n.pos)},l.error=function(t,e){var t="Parse Error: "+t+":\n"+i.trackErrorPos(this.input,"number"==typeof e?e:this.ll().pos||0);throw new Error(t)},l.next=function(t){t=t||1,this.pos+=t},l.eat=function(t,e){var n=this.ll();if("string"!=typeof t){for(var r=t.length;r--;)if(n.type==t[r])return this.next(),n}else if(n.type==t&&("undefined"==typeof e||n.value==e))return this.next(),n;return!1},l.program=function(){for(var t=[],e=this.ll();"EOF"!==e.type&&"TAG_CLOSE"!==e.type;)t.push(this.statement()),e=this.ll();return t},l.statement=function(){var t=this.ll();switch(t.type){case"NAME":case"TEXT":var e=t.value;for(this.next();t=this.eat(["NAME","TEXT"]);)e+=t.value;return s.text(e);case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();case"PART_OPEN":return this.template();default:this.error("Unexpected token: "+this.la())}},l.xml=function(){var t,e,n,r;return t=this.match("TAG_OPEN").value,e=this.attrs(),r=this.eat("/"),this.match(">"),r||i.isVoidTag(t)||(n=this.program(),this.eat("TAG_CLOSE",t)||this.error("expect </"+t+"> gotno matched closeTag")),s.element(t,e,n)},l.attrs=function(){for(var t,e=[],n=this.ll();n=this.eat(["NAME","&"]);){var r=n.value;this.eat("=")&&(t=this.attvalue()),e.push(s.attribute(r,t)),t=void 0}return e},l.attvalue=function(){var t=this.ll();switch(t.type){case"NAME":case"UNQ":case"STRING":this.next();var e=t.value;if(~e.indexOf("{{")){var n=!0,i=new r(e,{mode:2}).parse();if(1==i.length&&"expression"===i[0].type)return i[0];var o=[];i.forEach(function(t){t.constant||(n=!1),o.push(t.body||"'"+t.text+"'")}),o="["+o.join(",")+"].join('')",e=s.expression(o,null,n)}return e;case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},l.directive=function(t){return t=t||this.ll().value,"function"==typeof this[t]?this[t]():void this.error("Undefined directive["+t+"]")},l.interplation=function(){var t=(this.match("EXPR_OPEN").nowatch,this.expression(!0));return this.match("END"),t},l.include=function(){this.next();var t=this.expression();return this.match("END"),s.template(t)},l["if"]=function(){this.next();var t=this.expr(),e=[],n=[],r=e;this.match("END");for(var i,o;!(o=this.eat("CLOSE"));)if(i=this.ll(),"OPEN"==i.type)switch(i.value){case"else":r=n,this.next(),this.match("END");break;case"elseif":return n.push(this["if"]()),s["if"](t,e,n);default:r.push(this.statement())}else r.push(this.statement());return"if"!==o.value&&this.error("Unmatched if directive"),s["if"](t,e,n)},l.list=function(){this.next();var t,e,n=this.expression(),r=[],i=[],o=r;for(this.match("IDENT","as"),t=this.match("IDENT").value,this.match("END");!(e=this.eat("CLOSE"));)this.eat("OPEN","else")?(o=i,this.match("END")):o.push(this.statement());return"list"!==e.value&&this.error("expect {{/list}} got {{/"+e.value+"}}",e.pos),s.list(n,t,r,i)},l.expression=function(){var t=this.expr();return t},l.expr=function(){this.depend=[];var t=this.filter(),e=t.get||t,n=t.set;return s.expression(e,n,!this.depend.length)},l.filter=function(){var t,e,n=this.assign(),r=this.eat("|");if(r){t=["(function(){","var ",e="_f_","=",n.get,";"];do t.push(e+" = "+u+"._f('"+this.match("IDENT").value+"')("+e),t.push(this.eat(":")?", "+this.arguments("|").join(",")+");":");");while(r=this.eat("|"));return t.push("return "+e+"})()"),this.getset(t.join(""))}return n},l.assign=function(){var t,e=this.condition();return(t=this.eat(["=","+=","-=","*=","/=","%="]))?(e.set||this.error("invalid lefthand expression in assignment expression"),this.getset("("+e.get+t.type+this.condition().get+")",e.set)):e},l.condition=function(){var t=this.or();return this.eat("?")?this.getset([t.get+"?",this.assign().get,this.match(":").type,this.assign().get].join("")):t},l.or=function(){var t=this.and();return this.eat("||")?this.getset(t.get+"||"+this.or().get):t},l.and=function(){var t=this.equal();return this.eat("&&")?this.getset(t.get+"&&"+this.and().get):t},l.equal=function(){var t,e=this.relation();return(t=this.eat(["==","!=","===","!=="]))?this.getset(e.get+t.type+this.equal().get):e},l.relation=function(){var t,e=this.additive();return(t=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?this.getset(e.get+t.value+this.relation().get):e},l.additive=function(){var t,e=this.multive();return(t=this.eat(["+","-"]))?this.getset(e.get+t.value+this.additive().get):e},l.multive=function(){var t,e=this.range();return(t=this.eat(["*","/","%"]))?this.getset(e.get+t.type+this.multive().get):e},l.range=function(){var t,e,n=this.unary();if(t=this.eat("..")){e=this.unary();var r="(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+n.get+","+e.get+")";
return this.getset(r)}return n},l.unary=function(){var t;return(t=this.eat(["+","-","~","!"]))?this.getset("("+t.type+this.unary().get+")"):this.member()},l.member=function(t,e,n){var r,s;if(t)"string"==typeof e&&c(e)?n.push(e):(n&&n.length&&this.depend.push(n),n=null);else{s=this.primary();var o=typeof s;"string"===o?(n=[],"$self"===s?(n.push("*"),t=a):(n.push(s),e=s,t=a+"['"+s+"']")):"this"===s.get?(t=u,n=["this"]):(n=null,t=s.get)}if(r=this.eat(["[",".","("]))switch(r.type){case".":var h=this.match("IDENT").value;return t+="['"+h+"']",this.member(t,h,n);case"[":return s=this.assign(),t+="["+s.get+"]",this.match("]"),this.member(t,s,n);case"(":var l=this.arguments().join(",");return t="(typeof ("+t+") !=='function'?"+t+"("+l+"):"+t+(".call("+u+(l?","+l:"")+"))"),this.match(")"),this.member(t,null,n)}n&&n.length&&this.depend.push(n);var f={get:t};return e&&(f.set=t+"="+i.setName),f},l.arguments=function(t){t=t||")";var e=[];do this.la()!==t&&e.push(this.assign().get);while(this.eat(","));return e},l.primary=function(){var t=this.ll();switch(t.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":return this.next(),this.getset("'"+t.value+"'");case"NUMBER":return this.next(),this.getset(""+t.value);case"IDENT":return this.next(),h(t.value)?this.getset(t.value):t.value;default:this.error("Unexpected Token: "+t.type)}},l.object=function(){for(var t=[this.match("{").type],e=this.eat(["STRING","IDENT","NUMBER"]);e;){t.push("'"+e.value+"'"+this.match(":").type);var n=this.assign().get;t.push(n),e=null,this.eat(",")&&(e=this.eat(["STRING","IDENT","NUMBER"]))&&t.push(",")}return t.push(this.match("}").type),{get:t.join("")}},l.array=function(){for(var t,e=[this.match("[").type];(t=this.assign())&&(e.push(t.get),this.eat(","));)e.push(",");return e.push(this.match("]").type),{get:e.join("")}},l.paren=function(){this.match("(");var t=this.filter();return t.get="("+t.get+")",this.match(")"),t},l.getset=function(t,e){return{get:t,set:e}},n.exports=r}),t.register("regularjs/src/helper/extend.js",function(t,e,n){function r(t,e,n){return function(){var r=this.supr;this.supr=n[t];var i=e.apply(this,arguments);return this.supr=r,i}}function i(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(t[i]=a(e[i])&&a(n[i])&&o.test(e[i])?r(i,e[i],n):e[i])}var s=e("../util.js"),o=/xy/.test(function(){})?/\bsupr\b/:/.*/,a=function(t){return"function"==typeof t};n.exports=function u(t){function e(){o.apply(this,arguments)}function n(t){return i(r,t,a),this}t=t||{};var r,o=this,a=o&&o.prototype||{};return"function"==typeof t?(r=t.prototype,t.implement=n,t.extend=u,t):(r=s.createProto(e,a),o.__after__&&o.__after__.call(e,o,t),(e.implement=n)(t),e.extend=u,e)}}),t.register("regularjs/src/helper/shim.js",function(){function t(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n])}var e=[].slice,n={}.toString;t(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}}),t(Array.prototype,{indexOf:function(t,e){e=e||0;for(var n=e,r=this.length;r>n;n++)if(this[n]===t)return n;return-1},forEach:function(t,e){for(var n=0,r=this.length;r>n;n++)t.call(e,this[n],n,this)},filter:function(t,e){for(var n=[],r=0,i=this.length;i>r;r++){var s=t.call(e,this[r],r,this);s&&n.push(this[r])}return n},map:function(t,e){for(var n=[],r=0,i=this.length;i>r;r++)n.push(t.call(e,this[r],r,this));return n}}),t(Function.prototype,{bind:function(t){var n=this,r=e.call(arguments,1);return function(){var i=r.concat(e.call(arguments));return n.apply(t,i)}}}),t(Object,{keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}}),t(Date,{now:function(){return+new Date}}),t(Array,{isArray:function(t){return"[object Array]"===n.call(t)}})}),t.register("regularjs/src/helper/event.js",function(t,e,n){function r(){arguments.length&&this.$on.apply(this,arguments)}var i=[].slice,s=e("../util.js"),o={$on:function(t,e){if("object"==typeof t)for(var n in t)this.$on(n,t[n]);else{var r=this._handles||(this._handles={}),i=r[t]||(r[t]=[]);i.push(e)}return this},$off:function(t,e){if(this._handles){t||(this._handles=[]);var n,r=this._handles;if(n=r[t]){if(!e)return r[t]=[],this;for(var i=0,s=n.length;s>i;i++)if(e===n[i])return n.splice(i,1),this}return this}},$emit:function(t){var e,n=this._handles;if(t){if("object"==typeof t){var r=t.type,s=t.data||[];t.stop}else{var s=i.call(arguments,1),r=t;this.$parent}if(!n||!(e=n[r]))return this;for(var o=0,a=e.length;a>o;o++)e[o].apply(this,s);return this}},$broadcast:function(){}};s.extend(r.prototype,o),r.mixTo=function(t){t="function"==typeof t?t.prototype:t,s.extend(t,o)},n.exports=r}),t.register("regularjs/src/helper/combine.js",function(t,e,n){var r=e("../dom.js"),i=n.exports={node:function(t){var e;if(t.element)return t.element;if("function"==typeof t.node)return t.node();if("number"==typeof t.nodeType)return t;if(t.group)return i.node(t.group);if(e=t.children){if(1==e.length){var n=i.node(e[0]);return n}for(var s=r.fragment(),o=0,a=e.length;a>o;o++)s.appendChild(i.node(e[o]));return s}},last:function(t){var e=t.children;return"function"==typeof t.last?t.last():"number"==typeof t.nodeType?t:e&&e.length?i.last(e[e.length-1]):t.group?i.last(t.group):void 0},destroy:function(t){if(t){if(Array.isArray(t))for(var e=0,n=t.length;n>e;e++)i.destroy(t[e]);var s=t.children;return"function"==typeof t.destroy?t.destroy():"number"==typeof t.nodeType?r.remove(t):void(s&&s.length&&(i.destroy(t),t.children=null))}}}}),t.register("regularjs/src/directive/base.js",function(t,e){var n=(e("../util.js"),e("../dom.js")),r=e("../Regular.js");e("./event.js"),e("./form.js"),r.directive("r-class",function(t,e){"expression"!==e.type&&(e=r.expression(e)),this.$watch(e,function(e){var n=" "+t.className.replace(/\s+/g," ")+" ";for(var r in e)e.hasOwnProperty(r)&&(n=n.replace(" "+r+" "," "),1==e[r]&&(n+=r+" "));t.className=n.trim()},!0)}),r.directive("r-style",function(t,e){"expression"!==e.type&&(e=r.expression(e)),this.$watch(e,function(e){for(var r in e)e.hasOwnProperty(r)&&n.css(t,r,e[r])},!0)}),r.directive("r-hide",function(t,e){"expression"!==e.type&&(e=r.expression(e)),this.$watch(e,function(e){t.style.display=e?"none":""})})}),t.register("regularjs/src/directive/form.js",function(t,e){function n(t,e){function n(){e.set(r,this.value),i=!0,r.$update(),i=!1}{var r=this,i=!1;t.value}return this.$watch(e,function(e){if(!i){var n=o.slice(t.getElementsByTagName("option"));n.forEach(function(n,r){n.value==e&&(t.selectedIndex=r)})}}),a.on(t,"change",n),this.$on("init",function(){void 0===e.get(r)&&e.set(r,t.value)}),function(){a.off(t,"change",n)}}function r(t,e){var n=!1,r=this;this.$watch(e,function(e){n||t.value!==e&&(t.value=null==e?"":""+e)});var i=function(t){var i=this;if("cut"===t.type||"paste"===t.type)o.nextTick(function(){var t=i.value;e.set(r,t),n=!0,r.$update()});else{var s=i.value;e.set(r,s),n=!0,r.$update()}n=!1};return 9!==a.msie&&"oninput"in a.tNode?t.addEventListener("input",i):(a.on(t,"paste",i),a.on(t,"keyup",i),a.on(t,"cut",i),a.on(t,"change",i)),this.$on("init",function(){void 0===e.get(r)&&e.set(r,t.value)}),function(){9!==a.msie&&"oninput"in a.tNode?t.removeEventListener("input",i):(a.off(t,"paste",i),a.off(t,"keyup",i),a.off(t,"cut",i),a.off(t,"change",i))}}function i(t,e){var n=!1,r=this;this.$watch(e,function(e){n||a.attr(t,"checked",!!e)});var i=function(){var t=this.checked;e.set(r,t),n=!0,r.$update(),n=!1};return e.set&&a.on(t,"change",i),this.$on("init",function(){void 0===e.get(r)&&e.set(r,t.checked)}),function(){e.set&&a.off(t,"change",i)}}function s(t,e){var n=this,r=!1;this.$watch(e,function(e){r||e===t.value&&(t.checked=!0)});var i=function(){var t=this.value;e.set(n,t),r=!0,n.$update(),r=!1};return e.set&&a.on(t,"change",i),this.$on("init",function(){void 0===e.get(n)&&t.checked&&e.set(n,t.value)}),function(){e.set&&a.off(t,"change",i)}}var o=e("../util.js"),a=e("../dom.js"),u=e("../Regular.js"),c={text:r,select:n,checkbox:i,radio:s};u.directive("r-model",function(t,e){var n=t.tagName.toLowerCase(),r=n;return"input"===r?r=t.type||"text":"textarea"===r&&(r="text"),"string"==typeof e&&(e=u.expression(e)),c[r]?c[r].call(this,t,e):"input"===n?c.text.call(this,t,e):void 0})}),t.register("regularjs/src/directive/event.js",function(t,e){var n=(e("../util.js"),e("../dom.js")),r=e("../Regular.js");r._events={enter:function(t,e){function r(t){13==t.which&&(t.preventDefault(),e(t))}return n.on(t,"keypress",r),function(){n.off(t,"keypress",r)}}},r.event=function(t,e){return e?(this._events[t]=e,this):this._events[t]},r.directive(/^on-\w+$/,function(t,e,i){function s(t){c.data.$event=t;var e=u.get(c);e===!1&&t&&t.preventDefault&&t.preventDefault(),delete c.data.$event,c.$update()}var o=this.constructor;if(i&&e){var a=i.split("-")[1],u=r.expression(e),c=this,h=o.event(a);if(h)var l=h(t,s);else n.on(t,a,s);return h?l:function(){n.off(t,a,s)}}})}),t.register("regularjs/src/module/timeout.js",function(t,e){function n(t){t.implement({$timeout:function(t,e){return e=e||0,setTimeout(function(){t.call(this),this.$update()}.bind(this),e)},$interval:function(t,e){return e=e||1e3/60,setInterval(function(){t.call(this),this.$update()}.bind(this),e)}})}var r=e("../Regular.js");r.plugin("timeout",n)}),t.alias("regularjs/src/index.js","regularjs/index.js"),"object"==typeof exports?module.exports=t("regularjs"):"function"==typeof define&&define.amd?define(function(){return t("regularjs")}):window.Regular=t("regularjs")}();